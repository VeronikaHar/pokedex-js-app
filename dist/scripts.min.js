function searchPoke(){var e,t,n,i,o,a;for(e=document.querySelector("#pokeInput"),t=e.value.toUpperCase(),n=document.getElementsByTagName("li"),o=0;o<n.length;o++)i=n[o].getElementsByClassName("pokemon")[0],a=i.innerText,a.toUpperCase().indexOf(t)>-1?n[o].style.display="":n[o].style.display="none"}var pokemonRepository=function(){function e(e){(function(){function t(t,o){i.innerHTML="";var a=document.createElement("div");a.classList.add("modal");var r=document.createElement("h2");r.innerText=t;var s=document.createElement("img");s.setAttribute("src",e.imageUrl);var c=document.createElement("p");c.innerText=o;var l=document.createElement("button");l.classList.add("modal-close"),l.innerText="Back to Pokedex",l.addEventListener("click",n),a.appendChild(r),a.appendChild(s),a.appendChild(c),a.appendChild(l),i.appendChild(a),i.classList.add("is-visible")}function n(){i.classList.remove("is-visible")}var i=document.querySelector("#modal-container"),o=e.name.charAt(0).toUpperCase().toUpperCase()+e.name.slice(1);a(e).then(function(){var n="Height: "+e.height/10+" m\nAbilities: "+e.abilities+"\nType: "+e.types;t(o,n)}),window.addEventListener("keydown",function(e){"Escape"===e.key&&i.classList.contains("is-visible")&&n()}),i.addEventListener("click",function(e){var t=e.target;t===i&&n()})})()}function t(t){var n=document.createElement("li"),i=document.createElement("button");i.classList.add("pokemon"),i.innerText=t.name.charAt(0).toUpperCase().toUpperCase()+t.name.slice(1),n.appendChild(i);var o=document.querySelector("ul");o.appendChild(n),i.addEventListener("click",function(){e(t)})}function n(e){"object"==typeof e&&"string"==typeof e.name?r.push(e):prompt("Please enter a valid pokemon object!")}function i(){return r}function o(){return fetch(s).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){e={name:e.name,detailsUrl:e.url},n(e)})}).catch(function(e){console.error(e)})}function a(e){var t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=[];for(var n=0;n<t.types.length;n++)e.types.push(t.types[n].type.name);for(e.abilities=[],n=0;n<t.abilities.length;n++)e.abilities.push(t.abilities[n].ability.name)}).catch(function(e){console.error(e)})}var r=[],s="https://pokeapi.co/api/v2/pokemon/?limit=150";return{addListItem:t,getAll:i,loadList:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});